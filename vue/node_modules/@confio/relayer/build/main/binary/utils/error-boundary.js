"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.errorBoundary = exports.rootBoundary = void 0;
// This is meant to be used around top-level command.
// If you have access to a logger, please use errorBoundary
function rootBoundary(command) {
    return async function (flags) {
        try {
            await command(flags);
        }
        catch (e) {
            // TODO: should we format this somehow?
            console.error(e);
            process.exit(1);
        }
    };
}
exports.rootBoundary = rootBoundary;
// FIXME: figure this one out better once we have loggers
async function errorBoundary(logger, command) {
    try {
        await command();
    }
    catch (e) {
        // TODO: should we format this somehow?
        logger.error(e);
        process.exit(1);
    }
}
exports.errorBoundary = errorBoundary;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3ItYm91bmRhcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvYmluYXJ5L3V0aWxzL2Vycm9yLWJvdW5kYXJ5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLHFEQUFxRDtBQUNyRCwyREFBMkQ7QUFDM0QsU0FBZ0IsWUFBWSxDQUMxQixPQUFvQztJQUVwQyxPQUFPLEtBQUssV0FBVyxLQUFRO1FBQzdCLElBQUk7WUFDRixNQUFNLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUN0QjtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1YsdUNBQXVDO1lBQ3ZDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNqQjtJQUNILENBQUMsQ0FBQztBQUNKLENBQUM7QUFaRCxvQ0FZQztBQUVELHlEQUF5RDtBQUNsRCxLQUFLLFVBQVUsYUFBYSxDQUNqQyxNQUFjLEVBQ2QsT0FBNEI7SUFFNUIsSUFBSTtRQUNGLE1BQU0sT0FBTyxFQUFFLENBQUM7S0FDakI7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNWLHVDQUF1QztRQUN2QyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDakI7QUFDSCxDQUFDO0FBWEQsc0NBV0MifQ==