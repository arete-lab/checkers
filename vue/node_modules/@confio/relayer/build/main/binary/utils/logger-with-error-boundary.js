"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.loggerWithErrorBoundary = void 0;
const create_logger_1 = require("../create-logger");
function loggerWithErrorBoundary(command) {
    return async (flags) => {
        const logger = create_logger_1.createLogger(flags);
        try {
            await command(flags, logger);
        }
        catch (error) {
            /*
             * TODO: polish error handling
             *
             * if (error instanceOf InvalidOptionError) {
             *  // do something else?
             * }
             */
            logger.error(error);
        }
    };
}
exports.loggerWithErrorBoundary = loggerWithErrorBoundary;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2VyLXdpdGgtZXJyb3ItYm91bmRhcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvYmluYXJ5L3V0aWxzL2xvZ2dlci13aXRoLWVycm9yLWJvdW5kYXJ5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLG9EQUFnRDtBQUdoRCxTQUFnQix1QkFBdUIsQ0FDckMsT0FBb0Q7SUFFcEQsT0FBTyxLQUFLLEVBQUUsS0FBc0IsRUFBRSxFQUFFO1FBQ3RDLE1BQU0sTUFBTSxHQUFHLDRCQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFbkMsSUFBSTtZQUNGLE1BQU0sT0FBTyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztTQUM5QjtRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2Q7Ozs7OztlQU1HO1lBRUgsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNyQjtJQUNILENBQUMsQ0FBQztBQUNKLENBQUM7QUFwQkQsMERBb0JDIn0=