"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.signingClient = void 0;
const crypto_1 = require("@cosmjs/crypto");
const launchpad_1 = require("@cosmjs/launchpad");
const proto_signing_1 = require("@cosmjs/proto-signing");
const ibcclient_1 = require("../../lib/ibcclient");
async function signingClient(chain, mnemonic, logger) {
    const hdPath = chain.hd_path ? crypto_1.stringToPath(chain.hd_path) : undefined;
    const signer = await proto_signing_1.DirectSecp256k1HdWallet.fromMnemonic(mnemonic, hdPath, chain.prefix);
    const { address } = (await signer.getAccounts())[0];
    const options = {
        prefix: chain.prefix,
        gasPrice: launchpad_1.GasPrice.fromString(chain.gas_price),
        logger,
    };
    const client = await ibcclient_1.IbcClient.connectWithSigner(chain.rpc[0], signer, address, options);
    return client;
}
exports.signingClient = signingClient;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbmluZy1jbGllbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvYmluYXJ5L3V0aWxzL3NpZ25pbmctY2xpZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDJDQUE4QztBQUM5QyxpREFBNkM7QUFDN0MseURBQWdFO0FBRWhFLG1EQUFrRTtBQUkzRCxLQUFLLFVBQVUsYUFBYSxDQUNqQyxLQUFZLEVBQ1osUUFBZ0IsRUFDaEIsTUFBZTtJQUVmLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLHFCQUFZLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFDdkUsTUFBTSxNQUFNLEdBQUcsTUFBTSx1Q0FBdUIsQ0FBQyxZQUFZLENBQ3ZELFFBQVEsRUFDUixNQUFNLEVBQ04sS0FBSyxDQUFDLE1BQU0sQ0FDYixDQUFDO0lBQ0YsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsTUFBTSxNQUFNLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwRCxNQUFNLE9BQU8sR0FBcUI7UUFDaEMsTUFBTSxFQUFFLEtBQUssQ0FBQyxNQUFNO1FBQ3BCLFFBQVEsRUFBRSxvQkFBUSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDO1FBQzlDLE1BQU07S0FDUCxDQUFDO0lBQ0YsTUFBTSxNQUFNLEdBQUcsTUFBTSxxQkFBUyxDQUFDLGlCQUFpQixDQUM5QyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUNaLE1BQU0sRUFDTixPQUFPLEVBQ1AsT0FBTyxDQUNSLENBQUM7SUFDRixPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBeEJELHNDQXdCQyJ9