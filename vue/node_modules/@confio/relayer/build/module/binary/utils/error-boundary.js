// This is meant to be used around top-level command.
// If you have access to a logger, please use errorBoundary
export function rootBoundary(command) {
    return async function (flags) {
        try {
            await command(flags);
        }
        catch (e) {
            // TODO: should we format this somehow?
            console.error(e);
            process.exit(1);
        }
    };
}
// FIXME: figure this one out better once we have loggers
export async function errorBoundary(logger, command) {
    try {
        await command();
    }
    catch (e) {
        // TODO: should we format this somehow?
        logger.error(e);
        process.exit(1);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3ItYm91bmRhcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvYmluYXJ5L3V0aWxzL2Vycm9yLWJvdW5kYXJ5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLHFEQUFxRDtBQUNyRCwyREFBMkQ7QUFDM0QsTUFBTSxVQUFVLFlBQVksQ0FDMUIsT0FBb0M7SUFFcEMsT0FBTyxLQUFLLFdBQVcsS0FBUTtRQUM3QixJQUFJO1lBQ0YsTUFBTSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDdEI7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNWLHVDQUF1QztZQUN2QyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDakI7SUFDSCxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQseURBQXlEO0FBQ3pELE1BQU0sQ0FBQyxLQUFLLFVBQVUsYUFBYSxDQUNqQyxNQUFjLEVBQ2QsT0FBNEI7SUFFNUIsSUFBSTtRQUNGLE1BQU0sT0FBTyxFQUFFLENBQUM7S0FDakI7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNWLHVDQUF1QztRQUN2QyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDakI7QUFDSCxDQUFDIn0=